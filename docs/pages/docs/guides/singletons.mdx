import { Markdown } from '../../../components/Markdown';
import { Well } from '../../../components/primitives/Well';
import { RelatedContent } from '../../../components/RelatedContent';

# Singletons

In Keystone, a Singleton is a special kind of list that can contain only one entry. This kind of list is useful for things like a settings page, header or footer information,
or any data that only needs one instance.

## Configuration

As described in the [Schema API docs](../api/schema) Keystone has two kinds of lists, a standard list (`kind: 'list'`) and a singleton (`kind: 'singleton'`).
The recommended way to configure these is by using the `list()` and `singleton()` helper functions.

Singletons are configured in the same way as a standard list but with a few differences in configuration options.

```typescript
import { config, singleton } from '@keystone-6/core';

export default config({
  lists: {
    SingletonName: singleton({
      fields: { /* ... */ },
      access: { /* ... */ },
      ui: { /* ... */ },
      hooks: { /* ... */ },
      graphql: { /* ... */ },
      db: { /* ... */ },
      description: '...',
    }),
    /* ... */
  }),
  /* ... */
};
```

### Fields

The `fields` object remains the same across both the standard and singleton lists. See [Fields API Docs](../api/fields) for more info on field configuration.

### Access Control

As a singleton can only have one entry the `access` object does not accept a `filter`, so therefore only accepts `operation` and `item` level access control.

```typescript
import { config, singleton } from '@keystone-6/core';

export default config({
  lists: {
    SingletonName: singleton({
      access: {
        operation: {
          query: ({ session, context, listKey, operation }) => true,,
            update: ({ session, context, listKey, operation }) => true
          },
          item: {
            read: ({ session, context, listKey, operation, inputData, item }) => true,
            update: ({ session, context, listKey, operation, inputData, item }) => true,
          }
      }
    })
  }
})
```

?> Note: While the `operation` variable is provided the only value that will ever be provided for a singleton list is `'update'`

### Hooks

Differences in Hooks to Standard List

- no `validateDelete`
- no `create` operation??

### UI config

- no list view
- hideCreate, hideDelete, createView, searchFields don't exist

### GraphQL Config

- queryLimits
- omit only accepts `query` and `update` or true to omit both

## Admin UI

- No create or delete
- no list view
- clicking on the nav goes to the item

## Graphql

- no create or delete mutations
- Only update with no `where`
- no plural queries

## Query and DB API

- no findMany
- no createOne, createMany etc

## Filter

- no filtering

## Database

- ID of 1
-

## Relationships

- Can relate _from_ a Singleton but not _to_ a Singleton

## Related resources

<RelatedContent>
  <Well
    heading="Schema API"
    href="../apis/schema"
    >
    Documentation for the Schema API
  </Well>
</RelatedContent>

export default ({ children }) => <Markdown description="A guide to the Singleton List type">{children}</Markdown>;
